{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "extends": [
      "config:recommended"
    ],
    "baseBranches": ["/^chore\\/.*/"],
    "regexManagers": [
      {
        "fileMatch": [
          "(^|/)Dockerfile$"
        ],
        "matchStrings": [
          "#\\s*renovate:\\s*datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\sARG .*?_VERSION=\"?(?<currentValue>.*?)\"?\\s"
        ],
        "versioningTemplate": "{{#if versioning}}{{versioning}}{{else}}semver{{/if}}"
      }
    ],
    "customManagers": [
      {
        "customType": "regex",
        "description": "Update steps-with - Vars in workflow-files",
        "fileMatch": [
          "(^|/)(\\.(?:github)/(?:workflows))/.+\\.ya?ml$"
        ],
        "matchStrings": [
          // # renovate: datasource=python-version depName=python versioning=python
          // with:
          //  python-version: 3.11
          "# renovate: datasource=(?<datasource>[a-z-.]+?) depName=(?<depName>[^\\s]+?)(?: (?:lookupName|packageName)=(?<packageName>[^\\s]+?))?(?: versioning=(?<versioning>[^\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\s]+?))?\\s+[A-Za-z0-9_]+?-version\\s*:\\s*[\"']?(?<currentValue>.+?)[\"']?\\s"
        ]
      }
    ],
    "packageRules": [
      {
        "matchFileNames": [".github/**"],
        "groupName": "github-actions"
      }
    ]
  }
